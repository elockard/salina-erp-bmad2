# generated: 2025-12-12
# project: Salina ERP
# project_key: salina-erp
# tracking_system: file-system
# story_location: /Users/elockard/office/salina-erp-bmad2/docs/sprint-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic not yet started
#   - in-progress: Epic actively being worked on
#   - done: All stories in epic completed
#
# Epic Status Transitions:
#   - backlog → in-progress: Automatically when first story is created (via create-story)
#   - in-progress → done: Manually when all stories reach 'done' status
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder
#   - ready-for-dev: Draft approved and story context created
#   - in-progress: Developer actively working on implementation
#   - review: Ready for code review (via Dev's code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done
#
# WORKFLOW NOTES:
# ===============
# - Epic transitions to 'in-progress' automatically when first story is created
# - Stories can be worked in parallel if team capacity allows
# - SM typically drafts next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', then runs code-review (fresh context, different LLM recommended)

generated: 2025-12-12
project: Salina ERP
project_key: salina-erp
tracking_system: file-system
story_location: /Users/elockard/office/salina-erp-bmad2/docs/sprint-artifacts

development_status:
  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 1: Foundation & Multi-Tenant Infrastructure (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-1: done
  1-1-initialize-nextjs-project-with-tech-stack: done
  1-2-set-up-database-schema-and-multi-tenant-infrastructure: done
  1-3-implement-clerk-authentication-with-multi-tenant-middleware: done
  1-4-create-tenant-registration-flow-with-subdomain-validation: done
  1-5-implement-role-based-access-control-rbac-system: done
  1-6-build-user-invitation-and-management-system: done
  1-7-create-tenant-settings-configuration-page: done
  1-8-build-role-based-dashboard-landing-page: done
  epic-1-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 2: Author & Title Catalog Management (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-2: done
  2-1-create-author-database-schema-and-data-model: done
  2-2-build-author-management-split-view-interface: done
  2-3-implement-author-portal-access-provisioning: done
  2-4-create-title-database-schema-and-multi-format-support: done
  2-5-build-title-management-split-view-interface: done
  2-6-create-isbn-pool-database-schema-and-tracking: done
  2-7-build-isbn-import-with-csv-upload-and-validation: done
  2-8-build-isbn-pool-status-view-and-availability-tracking: done
  2-9-implement-smart-isbn-assignment-with-row-locking: done
  epic-2-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 3: Sales & Returns Processing (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-3: done
  3-1-create-sales-transaction-database-schema: done
  3-2-build-sales-transaction-entry-form: done
  3-3-build-sales-transaction-history-view: done
  3-4-create-returns-database-schema-with-approval-workflow: done
  3-5-build-return-request-entry-form: done
  3-6-build-return-approval-queue-for-finance: done
  3-7-build-returns-history-view-with-status-filtering: done
  epic-3-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # INFRASTRUCTURE SPRINT 1 - Blocking Epic 4
  # Decision: BMad (2025-11-26) - Epic 4 blocked until auth testing fixed
  # ═══════════════════════════════════════════════════════════════════════════
  epic-0-infrastructure: done
  0-1-fix-auth-testing-infrastructure: done

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 4: Royalty Contracts & Calculation Engine (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-4: done
  4-1-create-royalty-contract-database-schema-with-tiered-rates: done
  4-2-build-contract-creation-form-with-tiered-royalty-configuration: done
  4-3-build-contract-detail-view-and-management: done
  4-4-implement-tiered-royalty-calculation-engine: done
  4-5-build-manual-royalty-calculation-trigger-testing: done
  epic-4-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 5: Royalty Statements & Author Portal (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-5: done
  5-1-create-statements-database-schema-and-pdf-storage: done
  5-2-implement-pdf-statement-generation-with-react-email: done
  5-3-build-statement-generation-wizard-for-finance: done
  5-4-implement-statement-email-delivery-with-resend: done
  5-5-build-statements-list-and-detail-view-for-finance: done
  5-6-build-author-portal-statement-access: done
  epic-5-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # INFRASTRUCTURE SPRINT 2 - Before Epic 6
  # Decision: BMad (2025-11-30) - Technical debt cleanup before Epic 6
  # ═══════════════════════════════════════════════════════════════════════════
  0-2-fix-typescript-and-lint-issues: done
  0-3-strengthen-portal-tests: done

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 6: Financial Reporting & Analytics (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-6: done
  6-1-implement-revenue-and-liability-tracking: done
  6-2-build-sales-reports-with-multi-dimensional-filtering: done
  6-3-build-isbn-pool-status-report: done
  6-4-build-royalty-liability-summary-report: done
  6-5-implement-audit-logging-for-compliance: done
  6-6-build-background-job-monitoring-for-system-administration: done
  6-7-enhance-all-dashboards-with-role-specific-analytics: done
  epic-6-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # INFRASTRUCTURE SPRINT 3 - Before Epic 7
  # Decision: BMad (2025-12-05) - Fix pre-existing test failures and TypeScript errors
  # ═══════════════════════════════════════════════════════════════════════════
  0-4-fix-test-failures-and-typescript-errors: done

  # ═══════════════════════════════════════════════════════════════════════════
  # INFRASTRUCTURE SPRINT 4 - Epic 7 Retrospective Cleanup
  # Decision: BMad (2025-12-06) - Consolidate Authors into Contacts (UX contradiction)
  # ═══════════════════════════════════════════════════════════════════════════
  0-5-consolidate-authors-into-contacts: done

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 7: Contact & ISBN Foundation (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-7: done
  7-1-create-unified-contact-database-schema: done
  7-2-build-contact-management-interface: done
  7-3-migrate-authors-to-contacts: done
  7-4-implement-publisher-isbn-prefix-system: done
  7-5-add-customizable-royalty-period-setting: done
  7-6-remove-isbn-type-distinction: done
  epic-7-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 8: Invoicing & Accounts Receivable (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-8: done
  8-1-create-invoice-database-schema: done
  8-2-build-invoice-creation-form: done
  8-3-build-invoice-list-and-detail-views: done
  8-4-implement-payment-recording: done
  8-5-build-accounts-receivable-dashboard: done
  8-6-implement-invoice-pdf-generation-and-email: done
  epic-8-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 9: Public Presence (COMPLETE)
  # ═══════════════════════════════════════════════════════════════════════════
  epic-9: done
  9-1-build-marketing-landing-page: done
  9-2-add-contact-and-legal-pages: done
  epic-9-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # PHASE 2: GROWTH FEATURES
  # Added: 2025-12-07 - Advanced royalty features, tax compliance, platform admin
  # ═══════════════════════════════════════════════════════════════════════════

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 10: Advanced Royalty Features (COMPLETE)
  # Goal: Split royalties for co-authors, lifetime escalating rates
  # ═══════════════════════════════════════════════════════════════════════════
  epic-10: done
  10-1-add-multiple-authors-per-title-with-ownership-percentages: done
  10-2-implement-split-royalty-calculation-engine: done
  10-3-generate-split-royalty-statements-for-co-authors: done
  10-4-implement-escalating-lifetime-royalty-rates: done
  epic-10-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 11: Tax & Compliance (COMPLETE)
  # Goal: 1099-MISC generation for IRS compliance
  # ═══════════════════════════════════════════════════════════════════════════
  epic-11: done
  11-1-collect-and-validate-tax-identification-information: done
  11-2-track-annual-earnings-for-1099-threshold: done
  11-3-generate-1099-misc-forms: done
  epic-11-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 13: Platform Administration
  # Goal: SaaS operator tools for tenant management and monitoring
  # ═══════════════════════════════════════════════════════════════════════════
  epic-13: done
  13-1-implement-platform-administrator-authentication: done
  13-2-build-tenant-list-and-search-interface: done
  13-3-build-tenant-detail-view: done
  13-4-implement-tenant-suspension-and-reactivation: done
  13-5-build-platform-analytics-dashboard: done
  13-6-implement-tenant-impersonation-for-support: done
  13-7-build-system-health-and-job-monitoring: done
  13-8-implement-platform-wide-announcements: done
  epic-13-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # PHASE 3: DISTRIBUTION & SCALE
  # Added: 2025-12-12 - ONIX metadata, REST API, channel integrations, production
  # ═══════════════════════════════════════════════════════════════════════════

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 14: ONIX 3.1 Core
  # Goal: ONIX 3.1 message generation, validation, accessibility, import
  # FRs: FR135-FR142
  # ═══════════════════════════════════════════════════════════════════════════
  epic-14: done
  14-1-create-onix-3-1-message-generator: done
  14-2-implement-onix-schema-validation: done
  14-3-add-accessibility-metadata-support-codelist-196: done
  14-4-build-codelist-management-system: done
  14-5-implement-onix-import-parser: done
  14-6-add-onix-3-0-export-fallback: done
  epic-14-retrospective: completed

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 15: REST API & Webhooks
  # Goal: Public REST API with OAuth2, webhook delivery system
  # FRs: FR143-FR150
  # ═══════════════════════════════════════════════════════════════════════════
  epic-15: backlog
  15-1-implement-api-authentication-with-oauth2: backlog
  15-2-build-core-rest-api-endpoints: backlog
  15-3-implement-rate-limiting: backlog
  15-4-build-webhook-subscription-system: backlog
  15-5-implement-webhook-delivery-with-signatures: backlog
  15-6-create-api-documentation-portal: backlog
  epic-15-retrospective: optional

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 16: Ingram Integration
  # Goal: Automate ONIX feeds to Ingram, ingest orders and inventory
  # FRs: FR151-FR155
  # ═══════════════════════════════════════════════════════════════════════════
  epic-16: in-progress
  16-1-configure-ingram-account-connection: done
  16-2-schedule-automated-onix-feeds-to-ingram: done
  16-3-ingest-ingram-order-data: done
  16-4-sync-inventory-status-with-ingram: done
  16-5-view-ingram-feed-history: backlog
  epic-16-retrospective: optional

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 17: Amazon Integration
  # Goal: Automate ONIX feeds to Amazon KDP/Advantage, import sales
  # FRs: FR156-FR160
  # ═══════════════════════════════════════════════════════════════════════════
  epic-17: backlog
  17-1-configure-amazon-account-connection: backlog
  17-2-schedule-automated-onix-feeds-to-amazon: backlog
  17-3-import-amazon-sales-data: backlog
  17-4-link-titles-to-asins: backlog
  17-5-view-amazon-feed-history: backlog
  epic-17-retrospective: optional

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 18: Production Pipeline
  # Goal: Manuscript-to-print workflow, vendor management, proof tracking
  # FRs: FR161-FR169
  # ═══════════════════════════════════════════════════════════════════════════
  epic-18: backlog
  18-1-create-production-projects: backlog
  18-2-assign-production-tasks-to-vendors: backlog
  18-3-track-production-workflow-stages: backlog
  18-4-upload-and-manage-proof-files: backlog
  18-5-approve-or-request-corrections-on-proofs: backlog
  18-6-view-production-calendar: backlog
  18-7-generate-bisg-compliant-shipping-labels: backlog
  epic-18-retrospective: optional

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 19: Data Import/Export
  # Goal: Bulk operations, ONIX catalog import, CSV templates
  # FRs: FR170-FR175
  # ═══════════════════════════════════════════════════════════════════════════
  epic-19: backlog
  19-1-import-catalog-via-csv: backlog
  19-2-download-csv-templates: backlog
  19-3-export-catalog-to-csv: backlog
  19-4-bulk-update-via-csv: backlog
  19-5-bisac-code-suggestions: backlog
  epic-19-retrospective: optional

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 20: UX Enhancements
  # Goal: Onboarding wizard, notifications, mobile optimization, contextual help
  # FRs: FR176-FR181
  # ═══════════════════════════════════════════════════════════════════════════
  epic-20: backlog
  20-1-build-onboarding-wizard: backlog
  20-2-build-notifications-center: backlog
  20-3-configure-notification-preferences: backlog
  20-4-mobile-responsive-layout: backlog
  20-5-add-contextual-help-system: backlog
  epic-20-retrospective: optional

  # ═══════════════════════════════════════════════════════════════════════════
  # EPIC 21: Author Portal Expansion
  # Goal: Production tracking, marketing assets, manuscript upload for authors
  # FRs: FR182-FR186
  # ═══════════════════════════════════════════════════════════════════════════
  epic-21: backlog
  21-1-view-production-status-in-author-portal: backlog
  21-2-access-marketing-asset-library: backlog
  21-3-upload-manuscript-files: backlog
  21-4-receive-production-milestone-notifications: backlog
  21-5-view-publication-schedule: backlog
  epic-21-retrospective: optional
